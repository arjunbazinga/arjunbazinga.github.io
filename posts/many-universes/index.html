<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-03-01">
<meta name="description" content="The constraints that determine what exists">

<title>The Many Universes That Exist – Arjun Srivastava</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-2b3e328b71be8d25427581baeb23079b.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-82eaea5a6515d4e8388f3e5e40526c0c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-39017ca276f174ce8ea5a4ccd8dd1b5a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../../site_libs/bootstrap/bootstrap-82eaea5a6515d4e8388f3e5e40526c0c.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-101184475-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>


<meta property="og:title" content="The Many Universes That Exist – Arjun Srivastava">
<meta property="og:description" content="The constraints that determine what exists">
<meta property="og:site_name" content="Arjun Srivastava">
<meta name="twitter:title" content="The Many Universes That Exist – Arjun Srivastava">
<meta name="twitter:description" content="The constraints that determine what exists">
<meta name="twitter:card" content="summary">
</head>

<body class="floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Arjun Srivastava</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../podcast"> 
<span class="menu-text">Podcast</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts"> 
<span class="menu-text">Thoughts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://arjunsriva.com/library"> 
<span class="menu-text">Library</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/arjunsriv"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">The Many Universes That Exist</h1>
                  <div>
        <div class="description">
          The constraints that determine what exists
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Business</div>
                <div class="quarto-category">Future</div>
                <div class="quarto-category">Thoughts</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 1, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#the-many-universes-that-exist" id="toc-the-many-universes-that-exist" class="nav-link active" data-scroll-target="#the-many-universes-that-exist">The Many Universes That Exist</a>
  <ul class="collapse">
  <li><a href="#key-insights-about-these-universes" id="toc-key-insights-about-these-universes" class="nav-link" data-scroll-target="#key-insights-about-these-universes">Key Insights About These Universes</a></li>
  <li><a href="#physics-vs.-our-understanding" id="toc-physics-vs.-our-understanding" class="nav-link" data-scroll-target="#physics-vs.-our-understanding">Physics vs.&nbsp;Our Understanding</a>
  <ul class="collapse">
  <li><a href="#theoretical-vs.-actual-possibility" id="toc-theoretical-vs.-actual-possibility" class="nav-link" data-scroll-target="#theoretical-vs.-actual-possibility">Theoretical vs.&nbsp;Actual Possibility</a></li>
  <li><a href="#example-natural-phenomena" id="toc-example-natural-phenomena" class="nav-link" data-scroll-target="#example-natural-phenomena">Example: Natural Phenomena</a></li>
  <li><a href="#example-engineering-ahead-of-theory" id="toc-example-engineering-ahead-of-theory" class="nav-link" data-scroll-target="#example-engineering-ahead-of-theory">Example: Engineering Ahead of Theory</a></li>
  <li><a href="#example-human-flight" id="toc-example-human-flight" class="nav-link" data-scroll-target="#example-human-flight">Example: Human Flight</a></li>
  </ul></li>
  <li><a href="#legal-and-moral-evolution" id="toc-legal-and-moral-evolution" class="nav-link" data-scroll-target="#legal-and-moral-evolution">Legal and Moral Evolution</a>
  <ul class="collapse">
  <li><a href="#example-copyright-evolution-for-thee-but-not-for-me" id="toc-example-copyright-evolution-for-thee-but-not-for-me" class="nav-link" data-scroll-target="#example-copyright-evolution-for-thee-but-not-for-me">Example: Copy[right?] Evolution: For Thee But Not For Me</a></li>
  <li><a href="#example-interest-based-banking" id="toc-example-interest-based-banking" class="nav-link" data-scroll-target="#example-interest-based-banking">Example: Interest-Based Banking</a></li>
  <li><a href="#example-lgbtq-rights" id="toc-example-lgbtq-rights" class="nav-link" data-scroll-target="#example-lgbtq-rights">Example: LGBTQ+ Rights</a></li>
  </ul></li>
  <li><a href="#geographical-divergence-in-legal-systems" id="toc-geographical-divergence-in-legal-systems" class="nav-link" data-scroll-target="#geographical-divergence-in-legal-systems">Geographical Divergence in Legal Systems</a>
  <ul class="collapse">
  <li><a href="#example-cannabis-regulation---whats-in-a-name" id="toc-example-cannabis-regulation---whats-in-a-name" class="nav-link" data-scroll-target="#example-cannabis-regulation---whats-in-a-name">Example: Cannabis Regulation - What’s in a Name?</a></li>
  <li><a href="#example-iran-and-spain-two-trains-passing-in-the-night" id="toc-example-iran-and-spain-two-trains-passing-in-the-night" class="nav-link" data-scroll-target="#example-iran-and-spain-two-trains-passing-in-the-night">Example: Iran and Spain, Two Trains Passing in the Night</a></li>
  </ul></li>
  <li><a href="#economic-constraints-and-potential" id="toc-economic-constraints-and-potential" class="nav-link" data-scroll-target="#economic-constraints-and-potential">Economic Constraints and Potential</a>
  <ul class="collapse">
  <li><a href="#example-digital-advertising" id="toc-example-digital-advertising" class="nav-link" data-scroll-target="#example-digital-advertising">Example: Digital Advertising</a></li>
  <li><a href="#example-kidney-exchange-markets" id="toc-example-kidney-exchange-markets" class="nav-link" data-scroll-target="#example-kidney-exchange-markets">Example: Kidney Exchange Markets</a></li>
  <li><a href="#example-new-approaches-to-fund-public-goods." id="toc-example-new-approaches-to-fund-public-goods." class="nav-link" data-scroll-target="#example-new-approaches-to-fund-public-goods.">Example: New approaches to fund public goods.</a></li>
  </ul></li>
  <li><a href="#the-dynamic-interaction-of-universes" id="toc-the-dynamic-interaction-of-universes" class="nav-link" data-scroll-target="#the-dynamic-interaction-of-universes">The Dynamic Interaction of Universes</a>
  <ul class="collapse">
  <li><a href="#example-legal-status-and-scientific-research" id="toc-example-legal-status-and-scientific-research" class="nav-link" data-scroll-target="#example-legal-status-and-scientific-research">Example: Legal Status and Scientific Research</a></li>
  <li><a href="#example-practice-preceding-legalization" id="toc-example-practice-preceding-legalization" class="nav-link" data-scroll-target="#example-practice-preceding-legalization">Example: Practice Preceding Legalization</a></li>
  </ul></li>
  <li><a href="#the-risk-of-convergence" id="toc-the-risk-of-convergence" class="nav-link" data-scroll-target="#the-risk-of-convergence">The Risk of Convergence</a></li>
  <li><a href="#a-malleable-world" id="toc-a-malleable-world" class="nav-link" data-scroll-target="#a-malleable-world">A Malleable World</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">






<section id="the-many-universes-that-exist" class="level1">
<h1>The Many Universes That Exist</h1>
<p>I want to share a way of thinking that I found personally useful. It helps me reason about what exists today, and make predictions.</p>
<p>I hope that by the end of this post, you’ll see some problems differently—recognizing that when something seems impossible, we’re often blind to which constraint is actually limiting us and how that constraint might be shifted.</p>
<p>I’ve been thinking about the different “universes” that define what can exist in our world. I see them as layers of constraints, each limiting what’s possible in its own way:</p>
<ol type="1">
<li><p><strong>The universe of absolute physical possibility</strong>: Things that can actually exist according to the fundamental laws of physics (whether we fully understand these laws or not).</p></li>
<li><p><strong>The universe of theoretical possibility</strong>: Things that can exist according to our current understanding of physics, like space elevators, flying cars, and other technological concepts.</p></li>
<li><p><strong>The universe of engineering possibility</strong>: Things that we know how to build given our current ability to manipulate our environment. This can be mechanical processes, electrical systems, programming, all kinds of fabrication.</p></li>
<li><p><strong>The universe of economic feasibility</strong>: Things that can exist because it’s economically viable for creators to benefit from their creation.</p></li>
<li><p><strong>The universe of legal permissibility</strong>: Things that can exist that are also legal for producers to produce and consumers to consume.</p></li>
<li><p><strong>The universe of moral acceptability</strong>: Things that are morally permissible according to cultural standards.</p></li>
</ol>
<section id="key-insights-about-these-universes" class="level2">
<h2 class="anchored" data-anchor-id="key-insights-about-these-universes">Key Insights About These Universes</h2>
<p>Before diving into specific examples, it’s worth noting some important characteristics of how these universes interact.</p>
<p>What fascinates me is that nothing apart from the absolute physical universe is fixed—these boundaries vary widely across regions of the world and across different eras. We tend to perceive these constraints as constants during our individual lifetimes, severely underestimating how malleable they actually are.</p>
<p>Importantly, these universes don’t operate as simple subsets. For instance, engineering solutions sometimes precede theoretical understanding, and legal frameworks often evolve independently of moral consensus. You don’t need to move sequentially down the chain of constraints, and there are plenty of examples of things that exist in later universes but not in earlier ones. This nuance is often missed in mainstream thought, narrowing our perspective on how the world can evolve.</p>
<p>As we examine these universes, we often encounter a common misconception: the simplest but most misguided story we tell ourselves is that all these universes are aligned and strongly imply one another—that all that is morally right is legal, and all that is legally permitted is moral; or that what can be done according to our current understanding of physics represents all that can ever be done. I find this perspective flawed/incomplete, as the following examples illustrate.</p>
</section>
<section id="physics-vs.-our-understanding" class="level2">
<h2 class="anchored" data-anchor-id="physics-vs.-our-understanding">Physics vs.&nbsp;Our Understanding</h2>
<section id="theoretical-vs.-actual-possibility" class="level3">
<h3 class="anchored" data-anchor-id="theoretical-vs.-actual-possibility">Theoretical vs.&nbsp;Actual Possibility</h3>
<p>I think it’s crucial to consider the gap between “things that can actually exist” versus “things we think can exist based on our current understanding.” The absolute laws of physics determine what is truly possible in our universe, but our theoretical models are always approximations that evolve over time.</p>
</section>
<section id="example-natural-phenomena" class="level3">
<h3 class="anchored" data-anchor-id="example-natural-phenomena">Example: Natural Phenomena</h3>
<p>Throughout history, we’ve continually expanded and restricted what we believed possible as our understanding of the world increased. We once attributed lightning to divine wrath before recognizing it as an atmospheric phenomenon. This fundamentally changed our understanding of what clouds could do—from enforcing divine judgment to producing natural electrical discharges.</p>
<p>This gap between theory and reality becomes even more pronounced when we look at how human innovation has sometimes outpaced scientific explanation.</p>
</section>
<section id="example-engineering-ahead-of-theory" class="level3">
<h3 class="anchored" data-anchor-id="example-engineering-ahead-of-theory">Example: Engineering Ahead of Theory</h3>
<p>Even more fascinating to me is the relationship between theoretical physics and practical engineering. There have been numerous examples where engineers created systems that defied contemporary theoretical understanding—like double-slit experiments before quantum theory was developed, or the photoelectric effect before Einstein’s explanations.</p>
<p>Perhaps the most dramatic illustration of engineering preceding theory comes from early aviation.</p>
</section>
<section id="example-human-flight" class="level3">
<h3 class="anchored" data-anchor-id="example-human-flight">Example: Human Flight</h3>
<p>One of the most striking examples is human flight. In the late 19th century, many prominent physicists and mathematicians, including Lord Kelvin, insisted that heavier-than-air flight was mathematically impossible. Physicist Simon Newcomb published a paper in 1901 proving the “impossibility” of flight just two years before the Wright brothers achieved it in 1903. The physics to properly explain aerodynamics wasn’t fully developed until decades after practical aviation became reality—engineers succeeded where theoretical understanding lagged behind.</p>
</section>
</section>
<section id="legal-and-moral-evolution" class="level2">
<h2 class="anchored" data-anchor-id="legal-and-moral-evolution">Legal and Moral Evolution</h2>
<p>While the examples above show how physical and theoretical universes interact, equally fascinating shifts occur in the realms of legal permissibility and moral acceptance. I find it interesting how many practices that are now illegal might seem as though they’ve always been prohibited, yet their history tells a different story.</p>
<section id="example-copyright-evolution-for-thee-but-not-for-me" class="level3">
<h3 class="anchored" data-anchor-id="example-copyright-evolution-for-thee-but-not-for-me">Example: Copy[right?] Evolution: For Thee But Not For Me</h3>
<p>Copyright is a prime example. From 1790 until 1891, the United States explicitly refused to recognize foreign copyrights. This allowed American publishers to freely reprint British works by Charles Dickens, Lord Byron, and others without paying royalties. Only after the U.S. became a significant producer of intellectual property did it pass the International Copyright Act of 1891, and later lead efforts to establish global copyright standards through agreements like TRIPS in 1994.</p>
<p>This pattern continues today with AI training data. Countries like Japan and Singapore have created explicit copyright exceptions for AI training, allowing companies to use copyrighted materials to train models without permission or payment. Japan’s 2019 copyright amendment permits exploiting works “to the extent considered necessary” when it’s not for “personally enjoying” the content. Singapore similarly amended its laws in 2021 for “computational data analysis.” Both countries have explicitly prioritized AI development over creator rights in this domain.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
</section>
<section id="example-interest-based-banking" class="level3">
<h3 class="anchored" data-anchor-id="example-interest-based-banking">Example: Interest-Based Banking</h3>
<p>Interest-based banking offers perhaps the most dramatic historical example of how these universes transform and influence each other. In 1139, the Second Lateran Council formally condemned usury as “despicable and blameworthy by divine and human laws.” For centuries, charging interest was not just illegal but considered a grave sin across Christian Europe. Yet today, interest forms the bedrock of global finance—a complete inversion of moral, legal, and economic universes.</p>
<p>This transformation wasn’t simple moral evolution, but rather a complex interaction between universes:</p>
<ol type="1">
<li><p>As Venetian and Genoese merchants expanded long-distance trade in the 13th-15th centuries, economic needs created pressure against moral constraints.</p></li>
<li><p>Ingenious financial engineering emerged in response—merchants developed the bill of exchange, which effectively charged interest through currency conversion while technically avoiding the usury prohibition.</p></li>
<li><p>By the 15th century, even religious institutions needed capital, leading to the creation of “montes pietatis” (charitable pawnshops) that Pope Leo X officially sanctioned in 1515, creating the first Church-approved exception to interest prohibitions.</p></li>
<li><p>Legal accommodation preceded full moral acceptance when Henry VIII of England passed the 1545 Act Against Usury, which—despite its name—actually legalized interest rates up to 10%, creating one of the first regulated interest frameworks.</p></li>
<li><p>Meanwhile, John Calvin developed new theological interpretations, writing in 1545 that business loans were fundamentally different from exploitative usury, providing theoretical justification for what economic reality had already made necessary.</p></li>
</ol>
<p>By 1694, when the Bank of England was founded with interest-bearing government bonds at its core, the transformation was nearly complete. What had been unthinkable in the moral universe of 1200 became the foundation of the economic universe of 1700—demonstrating how dramatically these constraints can shift over time while appearing fixed within a single lifetime.</p>
</section>
<section id="example-lgbtq-rights" class="level3">
<h3 class="anchored" data-anchor-id="example-lgbtq-rights">Example: LGBTQ+ Rights</h3>
<p>Similarly, I’ve observed how moral standards evolve dramatically. The legal treatment of homosexuality demonstrates this evolution starkly. In the United States, sodomy laws criminalized homosexual relationships in most states until Lawrence v. Texas in 2003. Just twelve years later, in 2015, Obergefell v. Hodges established same-sex marriage as a constitutional right—a change that would have been unimaginable to most Americans just a generation earlier.</p>
</section>
</section>
<section id="geographical-divergence-in-legal-systems" class="level2">
<h2 class="anchored" data-anchor-id="geographical-divergence-in-legal-systems">Geographical Divergence in Legal Systems</h2>
<p>Legal frameworks not only evolve over time but can simultaneously develop in opposite directions across different regions.</p>
<section id="example-cannabis-regulation---whats-in-a-name" class="level3">
<h3 class="anchored" data-anchor-id="example-cannabis-regulation---whats-in-a-name">Example: Cannabis Regulation - What’s in a Name?</h3>
<p>Cannabis regulation provides another fascinating example of legal divergence and convergence across geographies. In the 1970s, the United States implemented strict prohibitions through the Controlled Substances Act and pressured other countries, including India, to adopt similar restrictions. India, with its long tradition of cannabis use in religious contexts, created a complex legal framework that banned many forms of cannabis while preserving exceptions for traditional preparations like bhang.</p>
<p>What makes this particularly revealing is that India’s legal system treats different parts of the same plant containing identical THC compounds as completely different substances. Bhang (made from leaves and seeds) remains legal for religious use, while charas (resin) and ganja (flowers) are criminalized—creating an arbitrary distinction with no basis in chemistry or pharmacology. This separation originated during the 1961 UN Single Convention on Narcotic Drugs when India negotiated to exclude bhang from the definition of “cannabis” to protect religious traditions.</p>
<p>Now, in an ironic reversal, many U.S. states have legalized recreational cannabis while it remains formally illegal in India, despite its cultural and religious significance there.</p>
</section>
<section id="example-iran-and-spain-two-trains-passing-in-the-night" class="level3">
<h3 class="anchored" data-anchor-id="example-iran-and-spain-two-trains-passing-in-the-night">Example: Iran and Spain, Two Trains Passing in the Night</h3>
<p>Iran’s revolution demonstrates how legal systems can transform in opposite directions across different regions simultaneously. From 1925 to 1979, Iran developed a largely secular legal system, with the 1975 Family Protection Law establishing family courts, raising the marriage age, and granting women equal rights in divorce and child custody.</p>
<p>The 1979 Islamic Revolution rapidly reorganized this framework. The Family Protection Law was suspended, religious courts replaced secular ones, and various practices previously legal became criminalized. These changes occurred over months, not decades.</p>
<p>During this same period (1975-1985), Spain was moving in the opposite direction. Following Franco’s death in 1975, Spain legalized divorce (1981), decriminalized contraception (1978), and established equality between spouses in marriage (1981). While Iran was centralizing religious authority in governance, Spain was explicitly separating church and state in its 1978 Constitution.</p>
</section>
</section>
<section id="economic-constraints-and-potential" class="level2">
<h2 class="anchored" data-anchor-id="economic-constraints-and-potential">Economic Constraints and Potential</h2>
<p>Economic feasibility represents perhaps the most dynamic boundary because it responds most quickly to innovation in business models and market mechanisms. I believe the universe with the most room for expansion is the economic one—things people can make and want to have, but for which we lack effective pricing mechanisms. These represent somewhat fixed constraints at any given point in time, but as we learn more and invent new techniques, the boundaries shift.</p>
<section id="example-digital-advertising" class="level3">
<h3 class="anchored" data-anchor-id="example-digital-advertising">Example: Digital Advertising</h3>
<p>I’ve seen how innovations in business models and monetization strategies frequently expand this economic universe. Consider how Google’s creation of programmatic ad networks transformed search engines from money-losing ventures into highly profitable businesses. Before this innovation, search engines struggled to monetize their service effectively despite its clear value to users.</p>
</section>
<section id="example-kidney-exchange-markets" class="level3">
<h3 class="anchored" data-anchor-id="example-kidney-exchange-markets">Example: Kidney Exchange Markets</h3>
<p>Similar expansions have occurred through novel market mechanisms. For instance, matching markets for kidney exchanges (as described in Alvin Roth’s “Who Gets What and Why”) created economic feasibility where traditional markets failed due to ethical and legal constraints on direct organ sales. These exchange systems allow donors and recipients to be matched across multiple pairs, dramatically increasing the number of successful transplants without requiring direct monetary transactions for organs.</p>
<p>These innovations in market design illustrate how economic constraints can be overcome without requiring changes in the underlying legal or moral frameworks.</p>
</section>
<section id="example-new-approaches-to-fund-public-goods." class="level3">
<h3 class="anchored" data-anchor-id="example-new-approaches-to-fund-public-goods.">Example: New approaches to fund public goods.</h3>
<p>Another frontier I’m excited about is the development of funding models for public goods that traditional markets undervalue. Quadratic funding, where individual contributions to a project are matched by a central pool according to a formula that rewards broad support, creates economic viability for projects that benefit many people but wouldn’t be funded through conventional means. This approach has been successfully deployed in funding open-source software and other digital public goods that previously relied solely on volunteer efforts or corporate sponsorship.</p>
</section>
</section>
<section id="the-dynamic-interaction-of-universes" class="level2">
<h2 class="anchored" data-anchor-id="the-dynamic-interaction-of-universes">The Dynamic Interaction of Universes</h2>
<p>Looking across these examples, we can observe patterns in how these universes influence each other. An interesting question I keep coming back to concerns the dynamics between these universes. Innovations in one area can accelerate development in others—once we build technology X, we might be able to develop technology Y at a much faster rate.</p>
<p>Sometimes things feel like hard or impossible problems in one universe, with experts in that field declaring them ‘really hard’ or downright ‘impossible,’ making it seem like we’ll just have to live with them. But these same problems become much easier with improvements in other universes. The momentum and improvements in other universes open up new approaches to solve existing problems, often exposing hidden assumptions made when thinking about the problem in just one universe. AlphaFold exemplifies how advances in one universe (computational methods) can suddenly overcome barriers in another (biochemistry) that had challenged scientists for decades.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<section id="example-legal-status-and-scientific-research" class="level3">
<h3 class="anchored" data-anchor-id="example-legal-status-and-scientific-research">Example: Legal Status and Scientific Research</h3>
<p>These layers also influence each other in complex ways. What is legal affects what is studied and built, and vice versa. Because psilocybin was criminalized, research on its potential benefits for PTSD and other mental illnesses was stalled for decades.</p>
</section>
<section id="example-practice-preceding-legalization" class="level3">
<h3 class="anchored" data-anchor-id="example-practice-preceding-legalization">Example: Practice Preceding Legalization</h3>
<p>Conversely, what is built and commonly used affects what becomes legal. Cannabis was grown, processed, transported, and consumed long before its legalization began to spread.</p>
</section>
</section>
<section id="the-risk-of-convergence" class="level2">
<h2 class="anchored" data-anchor-id="the-risk-of-convergence">The Risk of Convergence</h2>
<p>As we invent new technologies, I’ve noticed how different layers interact in novel ways. Easier and cheaper enforcement mechanisms (surveillance, AI, fewer competing system/standards) might completely eliminate practices that could be valuable but are defined as illegal at this moment in time.</p>
<p>I worry that as the world becomes more connected and the decisions of the few can be enforced at scale, we risk losing opportunities to discover better ways of doing things. The correlations caused by global interconnectivity not only increase data exchange but also make it harder for non-consensus approaches to emerge.</p>
<p>It becomes increasingly difficult for individuals to deviate from group norms, potentially stifling the discovery of superior approaches.</p>
<p>There are many advantages to connect everyone and everything, but I believe we will inevitably close off pathways to innovation that we have seen arise across geographies and eras.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
</section>
<section id="a-malleable-world" class="level2">
<h2 class="anchored" data-anchor-id="a-malleable-world">A Malleable World</h2>
<p>I hope the key takeaway from this post is that much of the world we live in today is neither static nor predetermined. We should be careful about assuming what isn’t true today won’t be true tomorrow.</p>
<p>When we encounter ideas that don’t quite work in our current framework, we shouldn’t immediately dismiss them as failures or bad concepts. Often, they’re just a few small tweaks away from becoming something transformative.</p>
<p>The universe of possibility is much bigger than one defaults to believing, and yesterday’s impossibility frequently becomes the reality we live today.</p>
<p>Throughout history, thinkers have recognized this fluidity of possibility in different ways:</p>
<ul>
<li>Everyone knew it was impossible until a fool who didn’t know comes along and does it.</li>
<li>“The reasonable man adapts himself to the world; the unreasonable one persists in trying to adapt the world to himself. Therefore all progress depends on the unreasonable man.” — George Bernard Shaw</li>
<li>“The future is already here – it’s just not evenly distributed.” — William Gibson</li>
<li>“A new scientific truth does not triumph by convincing its opponents and making them see the light, but rather because its opponents eventually die, and a new generation grows up that is familiar with it.” — Max Planck, ( I hope the reader agrees that it’s better if one learns before death comes. )</li>
<li>“Life can be much broader once you discover one simple fact: Everything around you that you call life was made up by people that were (like) you” — Steve Jobs</li>
<li>“The true voyage of discovery consists not in seeking new landscapes, but in having new eyes.” — Marcel Proust</li>
<li><a href="https://x.com/waitbutwhy/status/1367871165319049221">All you see is what is, but not what it could have been or what it could be.</a></li>
</ul>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>I will not speak of napster…<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>I will be writing another post about this idea more generally, please stay tuned.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>There is more to be said here both on the problems and potential solutions for managing this challenge, which I will cover in an upcoming post: featuring The father, the mother, NBA, MMA and why I simultaneously love and hate Google.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/www\.arjunsriva\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>