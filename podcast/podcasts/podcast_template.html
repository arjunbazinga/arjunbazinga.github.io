<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="$lang$" xml:lang="$lang$" $if(dir)$ dir="$dir$" $endif$>

<head>

  $metadata.html()$

  <style>
    $styles.html()$
  </style>

  <!-- Add Plyr CSS -->
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

  <style>
    .plyr--audio .plyr__controls {
      background-color: var(--bs-body-bg);
      color: var(--bs-body-color);
    }

    .plyr--full-ui input[type=range] {
      color: var(--bs-primary);
    }
  </style>
  <!-- htmldependencies:E3FAD763 -->
  $for(header-includes)$
  $header-includes$
  $endfor$

  $if(math)$
  $if(mathjax)$
  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  $endif$
  $math$

  <script type="text/javascript">
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    window.Quarto = {
      typesetMath
    };
  </script>
  $endif$

  $for(css)$
  <link rel="stylesheet" href="$css$" />
  $endfor$
</head>

<body>

  $for(include-before)$
  $include-before$
  $endfor$

  $if(title)$
  $title-block.html()$
  $elseif(subtitle)$
  $title-block.html()$
  $elseif(by-author)$
  $title-block.html()$
  $elseif(date)$
  $title-block.html()$
  $elseif(categories)$
  $title-block.html()$
  $elseif(date-modified)$
  $title-block.html()$
  $elseif(doi)$
  $title-block.html()$
  $elseif(abstract)$
  $title-block.html()$
  $elseif(keywords)$
  $title-block.html()$
  $endif$


  $if(toc)$
  $toc.html()$
  $endif$

  $body$



  <div class="podcast-section">
    <h3>Listen to the Podcast</h3>
    <div class="plyr-audio-player">
      <audio id="player" controls>
        <source src="/static/podcast_data/arxiv/audio/$arxiv-paper-id$.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    </div>

    <div class="podcast-links">
      <h4>Related Links</h4>
      <ul>
        <li><a href="/static/podcast_data/arxiv/audio/$arxiv-paper-id$.mp3" download>Download audio</a></li>
        <li><a href="/static/podcast_data/arxiv/transcripts/$arxiv-paper-id$.txt">Read transcript</a></li>
        <li><a href="https://arxiv.org/pdf/$arxiv-paper-id$">Read original paper</a></li>
      </ul>
    </div>
  </div>


  <!-- Add Plyr JS -->
  <!-- TODO : remove this network dependency embed script directly as part of build -->
  <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const player = new Plyr('#player', {
        controls: [
          'play-large', 'rewind', 'play', 'fast-forward', 'progress', 'current-time', 'mute', 'volume', 'settings', 'airplay', 'download'
        ]
      });
    });
  </script>

  $for(include-after)$
  $include-after$
  $endfor$

</body>

</html>